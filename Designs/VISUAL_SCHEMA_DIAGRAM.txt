================================================================================
NETFLIX DATABASE - ENTITY RELATIONSHIP DIAGRAM
Visual Database Schema
================================================================================

SIMPLIFIED ER DIAGRAM:
======================

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      NetflixTitle            â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ ğŸ”‘ show_id (PK)              â”‚
                    â”‚ â€¢ type [Movie|TV Show]       â”‚
                    â”‚ â€¢ title                      â”‚
                    â”‚ â€¢ director (nullable)        â”‚
                    â”‚ â€¢ cast (nullable)            â”‚
                    â”‚ â€¢ country (nullable)         â”‚
                    â”‚ â€¢ date_added (nullable)      â”‚
                    â”‚ â€¢ release_year               â”‚
                    â”‚ â€¢ rating (nullable)          â”‚
                    â”‚ â€¢ duration                   â”‚
                    â”‚ â€¢ listed_in (genres)         â”‚
                    â”‚ â€¢ description                â”‚
                    â”‚ â€¢ created_at                 â”‚
                    â”‚ â€¢ updated_at                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Contains 8,810 records
                             â–¼


DETAILED FIELD SPECIFICATIONS:
===============================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NetflixTitle Model                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Field       â”‚ Django Type    â”‚ Required â”‚ Max Length   â”‚ Notes          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ show_id     â”‚ CharField      â”‚ Yes âœ“    â”‚ 20 chars     â”‚ PRIMARY KEY    â”‚
â”‚             â”‚ (Primary Key)  â”‚          â”‚              â”‚ Unique         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ type        â”‚ CharField      â”‚ Yes âœ“    â”‚ 20 chars     â”‚ Choices:       â”‚
â”‚             â”‚ (choices)      â”‚          â”‚              â”‚ â€¢ Movie        â”‚
â”‚             â”‚                â”‚          â”‚              â”‚ â€¢ TV Show      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ title       â”‚ CharField      â”‚ Yes âœ“    â”‚ 250 chars    â”‚ MinLength: 1   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ director    â”‚ CharField      â”‚ No       â”‚ 250 chars    â”‚ ~30% null      â”‚
â”‚             â”‚                â”‚ (null OK)â”‚              â”‚ Comma-sep      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cast        â”‚ TextField      â”‚ No       â”‚ Unlimited    â”‚ ~9% null       â”‚
â”‚             â”‚                â”‚ (null OK)â”‚              â”‚ Comma-sep      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ country     â”‚ CharField      â”‚ No       â”‚ 150 chars    â”‚ ~7% null       â”‚
â”‚             â”‚                â”‚ (null OK)â”‚              â”‚ Comma-sep      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ date_added  â”‚ DateField      â”‚ No       â”‚ Date format  â”‚ Parsed from    â”‚
â”‚             â”‚                â”‚ (null OK)â”‚              â”‚ CSV string     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ release_yearâ”‚ IntegerField   â”‚ Yes âœ“    â”‚ Integer      â”‚ Range:         â”‚
â”‚             â”‚                â”‚          â”‚              â”‚ 1900-2030      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ rating      â”‚ CharField      â”‚ No       â”‚ 10 chars     â”‚ TV-MA, R, PG   â”‚
â”‚             â”‚                â”‚ (null OK)â”‚              â”‚ etc.           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ duration    â”‚ CharField      â”‚ Yes âœ“    â”‚ 20 chars     â”‚ "90 min" or    â”‚
â”‚             â”‚                â”‚          â”‚              â”‚ "2 Seasons"    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ listed_in   â”‚ TextField      â”‚ Yes âœ“    â”‚ Unlimited    â”‚ Genres         â”‚
â”‚             â”‚                â”‚          â”‚              â”‚ Comma-sep      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ description â”‚ TextField      â”‚ Yes âœ“    â”‚ Unlimited    â”‚ Synopsis       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ created_at  â”‚ DateTimeField  â”‚ Auto     â”‚ DateTime     â”‚ Auto set       â”‚
â”‚             â”‚ (auto_now_add) â”‚          â”‚              â”‚ on create      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ updated_at  â”‚ DateTimeField  â”‚ Auto     â”‚ DateTime     â”‚ Auto update    â”‚
â”‚             â”‚ (auto_now)     â”‚          â”‚              â”‚ on save        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DATABASE INDEXES:
=================

The following indexes will be created for query optimization:

ğŸ“Š INDEX 1: idx_netflixtitle_type
   Field: type
   Purpose: Fast filtering between Movies and TV Shows
   Query: NetflixTitle.objects.filter(type='Movie')

ğŸ“Š INDEX 2: idx_netflixtitle_release_year
   Field: release_year
   Purpose: Fast year-based filtering and range queries
   Query: NetflixTitle.objects.filter(release_year__gte=2015)

ğŸ“Š INDEX 3: idx_netflixtitle_date_added
   Field: date_added
   Purpose: Temporal queries and trending analysis
   Query: NetflixTitle.objects.filter(date_added__year=2020)

ğŸ“Š INDEX 4: idx_netflixtitle_rating
   Field: rating
   Purpose: Fast rating-based filtering
   Query: NetflixTitle.objects.filter(rating='TV-MA')


SAMPLE DATA MAPPING (CSV â†’ Database):
======================================

CSV Row Example:
----------------
show_id: s1
type: Movie
title: Dick Johnson Is Dead
director: Kirsten Johnson
cast: [empty]
country: United States
date_added: September 25, 2021
release_year: 2020
rating: PG-13
duration: 90 min
listed_in: Documentaries
description: As her father nears the end of his life...

Database Record:
----------------
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ show_id:      "s1"                                   â”‚
â”‚ type:         "Movie"                                â”‚
â”‚ title:        "Dick Johnson Is Dead"                 â”‚
â”‚ director:     "Kirsten Johnson"                      â”‚
â”‚ cast:         NULL (empty in CSV)                    â”‚
â”‚ country:      "United States"                        â”‚
â”‚ date_added:   date(2021, 9, 25)                      â”‚
â”‚ release_year: 2020                                   â”‚
â”‚ rating:       "PG-13"                                â”‚
â”‚ duration:     "90 min"                               â”‚
â”‚ listed_in:    "Documentaries"                        â”‚
â”‚ description:  "As her father nears the end..."       â”‚
â”‚ created_at:   datetime(2024, 12, 14, 10, 30, 0)     â”‚
â”‚ updated_at:   datetime(2024, 12, 14, 10, 30, 0)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


QUERY EXAMPLES USING THIS MODEL:
=================================

1. Get all movies:
   NetflixTitle.objects.filter(type='Movie')

2. Get content from United States:
   NetflixTitle.objects.filter(country__icontains='United States')

3. Get R-rated movies from 2015 onwards:
   NetflixTitle.objects.filter(
       type='Movie',
       rating='R',
       release_year__gte=2015
   )

4. Count movies vs TV shows:
   from django.db.models import Count
   NetflixTitle.objects.values('type').annotate(count=Count('show_id'))

5. Get content by year added:
   from django.db.models.functions import ExtractYear
   NetflixTitle.objects.annotate(
       year=ExtractYear('date_added')
   ).values('year').annotate(count=Count('show_id'))

6. Search for content with 'Drama' genre:
   NetflixTitle.objects.filter(listed_in__icontains='Drama')

7. Get TV shows with 3+ seasons:
   # Filter in view after parsing duration
   tv_shows = NetflixTitle.objects.filter(type='TV Show')
   # Then filter by seasons in Python


DATA FLOW DIAGRAM:
==================

CSV File                    Django ORM                  Database
â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€â”€â”€â”€â”€

netflix_titles.csv          load_data.py                SQLite3
     â”‚                           â”‚                          â”‚
     â”‚ Read CSV                  â”‚                          â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                          â”‚
     â”‚                           â”‚                          â”‚
     â”‚                           â”‚ Parse data               â”‚
     â”‚                           â”‚ Create NetflixTitle      â”‚
     â”‚                           â”‚ instances                â”‚
     â”‚                           â”‚                          â”‚
     â”‚                           â”‚ bulk_create()            â”‚
     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                           â”‚                          â”‚
     â”‚                           â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
     â”‚                           â”‚                   â”‚ NetflixTitleâ”‚
     â”‚                           â”‚                   â”‚   Table     â”‚
     â”‚                           â”‚                   â”‚ 8,810 rows  â”‚
     â”‚                           â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                           â”‚                          â”‚
     â”‚                           â”‚                          â”‚
     â–¼                           â–¼                          â–¼
  [Archived]              [Django Models]            [Persistent Storage]


API QUERY FLOW:
===============

Client Request          Django View              ORM Query           Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€

GET /api/movies/            â”‚                         â”‚                 â”‚
     â”‚                      â”‚                         â”‚                 â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚                 â”‚
     â”‚                      â”‚ filter(type='Movie')    â”‚                 â”‚
     â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚
     â”‚                      â”‚                         â”‚ SELECT * FROM   â”‚
     â”‚                      â”‚                         â”‚ WHERE type=...  â”‚
     â”‚                      â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                      â”‚                         â”‚                 â”‚
     â”‚                      â”‚                         â”‚ Result rows     â”‚
     â”‚                      â”‚                         â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                      â”‚ QuerySet                â”‚                 â”‚
     â”‚                      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
     â”‚                      â”‚                         â”‚                 â”‚
     â”‚ JSON Response        â”‚ Serialize               â”‚                 â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚                 â”‚
     â”‚                      â”‚                         â”‚                 â”‚
     â–¼                      â–¼                         â–¼                 â–¼


ALTERNATIVE DESIGN (Multi-Model):
==================================

If implementing with Genre relationship:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NetflixTitle    â”‚                    â”‚      Genre       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”‘ show_id (PK)  â”‚                    â”‚ ğŸ”‘ id (PK)       â”‚
â”‚ â€¢ type           â”‚                    â”‚ â€¢ name (unique)  â”‚
â”‚ â€¢ title          â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ director       â”‚                            â–²
â”‚ â€¢ cast           â”‚                            â”‚
â”‚ â€¢ country        â”‚                            â”‚
â”‚ â€¢ date_added     â”‚                            â”‚
â”‚ â€¢ release_year   â”‚                    ManyToMany
â”‚ â€¢ rating         â”‚                    Relationship
â”‚ â€¢ duration       â”‚                            â”‚
â”‚ â€¢ description    â”‚                            â”‚
â”‚ â€¢ created_at     â”‚                            â”‚
â”‚ â€¢ updated_at     â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
         â”‚                                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  TitleGenre (Join Table)
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ â€¢ title_id (FK)          â”‚
              â”‚ â€¢ genre_id (FK)          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits:
- Demonstrates ManyToMany relationship
- Better normalized
- Easier genre filtering

Drawbacks:
- More complex implementation
- Requires parsing genres during load
- More complex queries (joins)


MIGRATION PLAN:
===============

When we implement this model (Phase 3), Django will create:

Initial Migration (0001_initial.py):
------------------------------------
- Creates api_netflixtitle table
- Sets up all columns with correct types
- Creates PRIMARY KEY on show_id
- Creates indexes on type, release_year, date_added, rating
- Sets up constraints (NOT NULL, UNIQUE, etc.)

Migration SQL (generated by Django):
-------------------------------------
CREATE TABLE "api_netflixtitle" (
    "show_id" varchar(20) NOT NULL PRIMARY KEY,
    "type" varchar(20) NOT NULL,
    "title" varchar(250) NOT NULL,
    "director" varchar(250) NULL,
    "cast" text NULL,
    "country" varchar(150) NULL,
    "date_added" date NULL,
    "release_year" integer NOT NULL,
    "rating" varchar(10) NULL,
    "duration" varchar(20) NOT NULL,
    "listed_in" text NOT NULL,
    "description" text NOT NULL,
    "created_at" datetime NOT NULL,
    "updated_at" datetime NOT NULL
);

CREATE INDEX "api_netflixtitle_type_idx" ON "api_netflixtitle" ("type");
CREATE INDEX "api_netflixtitle_release_year_idx" ON "api_netflixtitle" ("release_year");
CREATE INDEX "api_netflixtitle_date_added_idx" ON "api_netflixtitle" ("date_added");
CREATE INDEX "api_netflixtitle_rating_idx" ON "api_netflixtitle" ("rating");


SUMMARY:
========

âœ… Single model design: NetflixTitle
âœ… 14 fields total (12 from CSV + 2 metadata)
âœ… 4 indexes for query optimization
âœ… Proper constraints and validators
âœ… Helper methods for parsing complex fields
âœ… Alternative multi-model design documented
âœ… Ready for Phase 3 implementation

This design:
- Meets all requirements (R1a, R2)
- Handles data quality issues (nulls, mixed formats)
- Optimized for queries
- Simple enough to implement quickly
- Professional with good practices

================================================================================
END OF VISUAL SCHEMA
================================================================================
